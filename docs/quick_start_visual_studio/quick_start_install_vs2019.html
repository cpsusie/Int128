<!DOCTYPE html>
<!-- saved from url=(0085)file:///C:/Users/Christopher%20Susie/AppData/Local/Temp/_MarkdownMonster_Preview.html -->
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <!--<base href="file:///E:\Source\Repos\cjm-numerics\docs\quick_start_visual_studio\">--><base href=".">
  

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link href="./quick_start_install_vs2019_files/font-awesome.min.css" rel="stylesheet">

  <link href="./quick_start_install_vs2019_files/Theme.css" rel="stylesheet">

  <script src="./quick_start_install_vs2019_files/jquery.min.js.download"></script>
  <link href="./quick_start_install_vs2019_files/twilight.css" rel="stylesheet">
  <script src="./quick_start_install_vs2019_files/highlight.pack.js.download"></script>
  <script src="./quick_start_install_vs2019_files/preview.js.download" id="PreviewScript"></script>
  
</head>
<body>
<div id="MainContent">
    <!-- Markdown Monster Content -->
    <h1 id="cjm-numerics-visual-studio-2019-1928--1693-quick-start-installation-guide">CJM Numerics Visual Studio 2019 (19.28+ / 16.9.3+) Quick Start Installation Guide</h1>
<p><strong>Copyright © 2021, CJM Screws, LLC</strong></p>
<p>This guide provides a walkthrough on how to install this CJM Numerics UInt128 Library for usage with Visual Studio 2019.  It may also apply, with a few variations, to Visual Studio Code.  Please note that this project requires using a C++ compiler that supports C++20.  For Microsoft's compiler, the minimum version is 16.9.3.</p>
<p>There are two different avenues for installing this header-only library:</p>
<ol>
<li>Using vcpkg (recommended).</li>
<li>Copying the library files to a system include folder used by your environment.</li>
</ol>
<h2 id="installation-using-vcpkg">Installation Using Vcpkg</h2>
<p>Vcpkg is a permissively licensed open-source package management system published by Microsoft.  It works on Windows, Mac and Linux and provides some limited support for other platforms.  You can get vcpkg from Microsoft's repository <a href="https://github.com/microsoft/vcpkg">here</a>.  If you use Microsoft's repository, after following Microsoft's instructions and installing vcpkg and integrating it with Visual Studio (or Visual Studio Code), you must download the vcpkg port folder from <a href="https://github.com/cpsusie/cjm-numerics/releases/download/v0.0.0.6-alpha/vcpkg_port_folder_cjm-numerics-uint128.7z">the latest cjm-numerics-uint128 release.</a>  You only need the 7-zip file.  Vcpkg will download the needed files from the repo for you.</p>
<p><img src="./quick_start_install_vs2019_files/download_from_releases.PNG" alt="Downloading 7-zip file from Releases."></p>
<p>Alternatively you can download vcpkg from my fork of their repository <a href="https://github.com/cpsusie/vcpkg.git">here</a>.  This fork is identical to Microsoft's except it comes with the port for cjm-numerics-uint128.  Once I publish a stable release of this library, I will apply to have this library included in Microsoft's repository.</p>
<h3 id="copying-port-folder">Copying Port Folder</h3>
<p>Assuming, you downloaded vcpkg from Microsoft's repository and have downloaded the port for this library, copy it to vcpkg's ports folder as shown:</p>
<p><img src="./quick_start_install_vs2019_files/copy_folder_to_vcpkg_port_folder.PNG" alt="Copy over entire folder to Ports"></p>
<h3 id="install-the-package">Install the Package</h3>
<p>Before following these steps, make sure you have copied over the port folder as shown above and <a href="https://vcpkg.readthedocs.io/en/latest/users/integration/">integrated vcpkg with Visual Studio.</a>  Navigate to your root vcpkg folder in powershell or a DOS prompt then, to install cjm-numerics-uint128 for x64 windows enter: <code>./vcpkg install cjm-numerics-uint128:x64-windows</code>. You should see something like the following as a result:</p>
<blockquote>
<p>PS D:\Users\csusie\source\repos\vcpkg&gt; .\vcpkg.exe install cjm-numerics-uint128:x64-windows<br>
Computing installation plan...<br>
The following packages will be built and installed:<br>
cjm-numerics-uint128[core]:x64-windows → 0.0.0.6-alpha<br>
Detecting compiler hash for triplet x64-windows...<br>
Could not locate cached archive:   D:\Users\csusie\AppData\Local\vcpkg\archives\b6\b609669426fc2b682e067bf2842f46761a28d26f.zip<br>
Starting package 1/1: cjm-numerics-uint128:x64-windows<br>
Building package cjm-numerics-uint128[core]:x64-windows...<br>
-- Using cached D:/Users/csusie/source/repos/vcpkg/downloads/cpsusie-cjm-numerics-v0.0.0.6-alpha.tar.gz<br>
-- Cleaning sources at D:/Users/csusie/source/repos/vcpkg/buildtrees/cjm-numerics-uint128/src/.0.6-alpha-e994768164.clean. Use --editable to skip cleaning for the packages you specify.<br>
-- Extracting source D:/Users/csusie/source/repos/vcpkg/downloads/cpsusie-cjm-numerics-v0.0.0.6-alpha.tar.gz<br>
-- Using source at D:/Users/csusie/source/repos/vcpkg/buildtrees/cjm-numerics-uint128/src/.0.6-alpha-e994768164.clean<br>
-- Found external ninja('1.10.2').<br>
-- Configuring x64-windows<br>
-- Up-to-date: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include/<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/numerics<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/numerics/cjm_configuration.hpp<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/numerics/cjm_numeric_concepts.hpp<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/numerics/fixed_uint_container.hpp<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/numerics/fixed_uint_container_math.hpp<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/numerics/numerics.hpp<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/numerics/numerics.inl<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/numerics/numerics_configuration.hpp<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/numerics/numerics_configuration.inl<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/numerics/uint128.hpp<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/numerics/uint128.inl<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/string<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/string/cjm_string.hpp<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/string/cjm_string.inl<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/include//cjm/string/istream_utils.hpp<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/share/cjm-numerics-uint128/copyright<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/share/cjm-numerics-uint128/NOTICES.txt<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/share/cjm-numerics-uint128/NOTICES.md<br>
-- Installing: D:/Users/csusie/source/repos/vcpkg/packages/cjm-numerics-uint128_x64-windows/share/cjm-numerics-uint128/README.md<br>
-- Performing post-build validation<br>
-- Performing post-build validation done<br>
Stored binary cache: D:\Users\csusie\AppData\Local\vcpkg\archives\b6\b609669426fc2b682e067bf2842f46761a28d26f.zip<br>
Building package cjm-numerics-uint128[core]:x64-windows... done<br>
Installing package cjm-numerics-uint128[core]:x64-windows...<br>
Installing package cjm-numerics-uint128[core]:x64-windows... done<br>
Elapsed time for package cjm-numerics-uint128:x64-windows: 8.47 s<br>
Total elapsed time: 13.67 s<br>
The package cjm-numerics-uint128:x64-windows is header only and can be used from CMake via:<br>
find_path(CJM_NUMERICS_UINT128_INCLUDE_DIRS "cjm/numerics/cjm_configuration.hpp")
target_include_directories(main PRIVATE ${CJM_NUMERICS_UINT128_INCLUDE_DIRS})</p>
</blockquote>
<p>Repeat the command above but this time specify x86-windows: <code>.\vcpkg.exe install cjm-numerics-uint128:x86-windows</code>.  The results should be similar to the above.</p>
<h3 id="create-a-console-application-to-test-installation">Create a Console Application To Test Installation</h3>
<p>Open up Visual Studio and choose "Create a New Project".  Choose an <strong>Empty</strong> <em>C++</em> <strong>Console</strong> project for <em>Windows</em>, then choose an appropriate name and location for the project.  When satisfied, choose "Create".  The following shows how to do this graphically:</p>
<p><img src="./quick_start_install_vs2019_files/create_new_project.PNG" alt="Create Empty Windows Console Application"></p>
<h3 id="add-source-file-to-test-application">Add Source File to Test Application</h3>
<p>Right click on Source Files and then left click on Add in the context menu.  Choose a "New Item" in the secondary context menu.  Then, in the popup window, choose a C++ file (.cpp), enter then name program.cpp for it, then press add.  Consult the following if you need help:</p>
<p><img src="./quick_start_install_vs2019_files/add_source_file.png" alt="Add program.cpp source file to project."></p>
<h3 id="copy-code-into-programcpp">Copy Code into "program.cpp"</h3>
<p>Copy the following code into program.cpp:</p>
<pre><code class="language-cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iomanip&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cjm/numerics/uint128.hpp&gt;</span></span>

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>  <span class="hljs-comment">// NOLINT(bugprone-exception-escape) (it's a demo)</span>
</span>{
	<span class="hljs-keyword">using</span> <span class="hljs-keyword">uint128_t</span> = cjm::numerics::uint128;
	<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cjm::numerics::uint128_literals;
	<span class="hljs-keyword">constexpr</span> <span class="hljs-keyword">auto</span> newl = <span class="hljs-string">'\n'</span>;
	<span class="hljs-keyword">constexpr</span> <span class="hljs-keyword">uint128_t</span> lhs = <span class="hljs-number">123'456'789'012'345'678'901'234</span>_u128;
	<span class="hljs-keyword">constexpr</span> <span class="hljs-keyword">uint128_t</span> rhs = <span class="hljs-number">432'109'876'543'210'987'654'321</span>_u128;
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Hello, uint128_t!"</span> &lt;&lt; newl;
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"lhs ["</span> &lt;&lt; lhs &lt;&lt; <span class="hljs-string">"] * rhs ["</span> &lt;&lt; rhs &lt;&lt; <span class="hljs-string">"] == ["</span> &lt;&lt; (lhs * rhs) &lt;&lt; <span class="hljs-string">"]."</span> &lt;&lt; newl;

	<span class="hljs-comment">//check if compiler intrinsics used:</span>
	<span class="hljs-comment">//should be available if using microsoft compiler targeting x64 Intel or AMD processor</span>
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>
		&lt;&lt; <span class="hljs-string">"Using msvc x64 intrinsics?: ["</span> &lt;&lt; <span class="hljs-built_in">std</span>::boolalpha
		&lt;&lt; (cjm::numerics::calculation_mode == cjm::numerics::uint128_calc_mode::msvc_x64) &lt;&lt; <span class="hljs-string">"]"</span> &lt;&lt; newl;

	<span class="hljs-comment">//Check if using built-in unsigned int 128 for runtime math</span>
	<span class="hljs-comment">//This type is provided as a language extension by some compilers (NOT msvc)</span>
	<span class="hljs-comment">//it is usually only available for 64 bit targets on compilers that provide</span>
	<span class="hljs-comment">//this extension</span>
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>
		&lt;&lt; <span class="hljs-string">"Using built-in uint128 for runtime calculations?: ["</span> &lt;&lt; <span class="hljs-built_in">std</span>::boolalpha
		&lt;&lt; (cjm::numerics::calculation_mode == cjm::numerics::uint128_calc_mode::intrinsic_u128)
		&lt;&lt; <span class="hljs-string">"]."</span> &lt;&lt; newl;
	
	<span class="hljs-comment">//On msvc when targeting x64, enabling AVX2 extension will allow us to use compiler intrinsics</span>
	<span class="hljs-comment">//supplied by ADX and BMI2 (for add-with-carry and extended precision multiplication)</span>
	<span class="hljs-comment">//rather than the default compiler intrinsics for those operations.  Make sure your processor</span>
	<span class="hljs-comment">//target supports those extensions before trying this.</span>
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>
		&lt;&lt; <span class="hljs-string">"Has adx enabled: ["</span> &lt;&lt; <span class="hljs-built_in">std</span>::boolalpha &lt;&lt; cjm::numerics::intel_adx_available &lt;&lt; <span class="hljs-string">"]."</span> &lt;&lt; newl;
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>
		&lt;&lt; <span class="hljs-string">"Has bmi2 enabled: ["</span> &lt;&lt; <span class="hljs-built_in">std</span>::boolalpha &lt;&lt; cjm::numerics::intel_bmi2_available &lt;&lt; <span class="hljs-string">"]."</span> &lt;&lt; newl;
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>
		&lt;&lt; <span class="hljs-string">"Goodbye!"</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>The code above is also available in the repository <a href="https://raw.githubusercontent.com/cpsusie/cjm-numerics/main/pre_release_quick_start/pre_release_quick_start/pre_release_quick_start.cpp">here.</a>  After pasting the code, click Build on the menu-bar, choose "Batch Build", select all four configurations in the Batch Build Window, then press the "Build" button.  Consult the following if you need help:</p>
<p><img src="./quick_start_install_vs2019_files/batch_build_after_paste.png" alt="Execute Batch Build (Doomed to Fail)"></p>
<p>If the squiggly red lines were not a sufficent hint, this build is doomed to fail.  The primary reason is that Visual Studio 2019 configures new projects to use C++ 14 by default, but this library requires C++ 20.  If you scroll through the error messages in the compilation results you should encounter (probably in more than one place) messages similar to the following text:</p>
<blockquote>
<p>Task "CL"<br>
program.cpp<br>
The contents of <code>&lt;compare&gt;</code> are available only with <code>C++20</code> or later.<br>
The contents of <code>&lt;optional&gt;</code> are available only with <code>C++17</code> or later.<br>
The contents of <code>&lt;string_view&gt;</code> are available only with <code>C++17</code> or later.<br>
The contents of <code>&lt;bit&gt;</code> are available only with <code>C++20</code> or later.<br>
The contents of <code>&lt;span&gt;</code> are available only with <code>C++20</code> or later.<br>
E:\vcpkg\cjm_vcpkg\installed\x86-windows\include\cjm\numerics\numerics_configuration.hpp(36,1): fatal error C1189: #error:  "CJM NUMERICS UINT128 requires a <code>C++20</code> implementation that supports char8_t."<br>
The command exited with code 2.<br>
Done executing task "CL" -- FAILED.<br>
Done building target "ClCompile" in project "numerics_install.vcxproj" -- FAILED.<br>
Done building project "numerics_install.vcxproj" -- FAILED.<br>
Build FAILED.<br>
E:\vcpkg\cjm_vcpkg\installed\x86-windows\include\cjm\numerics\numerics_configuration.hpp(36,1): fatal error C1189: #error:  "CJM NUMERICS UINT128 requires a <code>C++20</code> implementation that supports char8_t."<br>
0 Warning(s)</p>
</blockquote>
<h3 id="configure-project-for-c20">Configure Project for C++20</h3>
<p>To get this project, or any project requiring <code>C++20</code> to build, you have to configure MsBuild to use C++20 or later.  To accomplish this:</p>
<ol>
<li>Right click on project</li>
<li>Choose "Properties" at the bottom of the context menu.</li>
<li>Select "General" under Configuration Properies on the popup</li>
<li>Set "Configurations" to "All Configurations"</li>
<li>Set "Platforms" to "All Platforms"</li>
<li>Set C++ Language Standard to "Preview - Features from the Latest C++ Working Draft" (/std:c++latest)</li>
<li>Click the "Apply" button</li>
<li>Click the "Ok" button<br>
To assist you with the foregoing, you may consult the following graphic:</li>
</ol>
<p><img src="./quick_start_install_vs2019_files/configure_cpp_20.png" alt="Configure C++20"></p>
<h3 id="batch-build-the-project-for-real-this-time">Batch Build the Project (for real this time):</h3>
<p>This time the build should succeed.  As above, choose "Build" on the menu-bar then select batch build.  When the batch build pop-up appears, select all four configurations then click "Build".</p>
<p><img src="./quick_start_install_vs2019_files/successful_batch_build.png" alt="Successful Build Intended"></p>
<p>You should see something like the following at the bottom of the build log:</p>
<blockquote>
<p>Done building project "numerics_install.vcxproj".<br>
Build succeeded.<br>
0 Warning(s)<br>
0 Error(s)<br>
Time Elapsed 00:00:04.52<br>
========== Rebuild All: 4 succeeded, 0 failed, 0 skipped ==========</p>
</blockquote>
<p>Congratulations, you have just built your first multiplatform (x86 and x64 Windows) applications using the CJM Numerics UInt128 library for C++20.</p>
<h3 id="run-the-application">Run the Application</h3>
<p>We will be running the application in release mode for both x64 and x86.  Accordingly, in Visual Studio, set Visual Studio into a "Release-x64" configuration as shown:</p>
<p><img src="./quick_start_install_vs2019_files/select_release_x64.PNG" alt="release-x64 mode"></p>
<p>Now, run the application by pressing Ctrl-F5.</p>
<p>Your output should look like the following:</p>
<blockquote>
<p>Hello, uint128_t!<br>
lhs [123456789012345678901234] * rhs [432109876543210987654321] == [226810394222294446283585782734362836562].<br>
Using msvc x64 intrinsics?: [true]<br>
Using built-in uint128 for runtime calculations?: [false].<br>
Has adx enabled: [false].<br>
Has bmi2 enabled: [false].<br>
Goodbye!</p>
</blockquote>
<p>Note that "msvc x64 intrinsics" should be true and "built-in uint128" should be false: 1- we are in x64 mode, Windows, so we are using intrinsics; 2- built-in uint128 is used only in a <strong>non-windows</strong> x64 clang or gcc environment.</p>
<p>Now, let's switch to x86, Release as shown:</p>
<p><img src="./quick_start_install_vs2019_files/select_release_x86.png" alt="Select 32-bit Release Mode"></p>
<p>Press Ctrl-F5 to run.</p>
<p>Output should be something like:</p>
<blockquote>
<p>Hello, uint128_t!<br>
lhs [123456789012345678901234] * rhs [432109876543210987654321] == [226810394222294446283585782734362836562].<br>
Using msvc x64 intrinsics?: [false]<br>
Using built-in uint128 for runtime calculations?: [false].<br>
Has adx enabled: [false].<br>
Has bmi2 enabled: [false].<br>
Goodbye!</p>
</blockquote>
<p>Notice that x64 instrincis are no longer in use.  Unsurprisingly these are only available in x64 bit mode.</p>
<h3 id="optional-enable-adx-and-bmi2-for-x64-configuration">(Optional): Enable ADX and BMI2 for x64 Configuration</h3>
<p>If your Intel or AMD processor supports the <a href="https://www.intel.com/content/dam/www/public/us/en/documents/white-papers/ia-large-integer-arithmetic-paper.pdf">ADX and BMI2</a> technologies and you are building for x64 on Windows, you may want to enable these technologies.  Please note that if you build your code with these technologies enabled, it may not (read: probably won't) run correctly on older processors.  The easiest way to handle this is to check whether <a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#Advanced_Vector_Extensions_2">all your processor targets support AVX2.</a>  If they do, enabling AVX2 in x64 mode will enable both <a href="https://en.wikipedia.org/wiki/Intel_ADX">ADX</a> and <a href="https://en.wikipedia.org/wiki/Bit_manipulation_instruction_set#BMI2_(Bit_Manipulation_Instruction_Set_2)">BMI2</a>. Assuming you want to enable it, go back into x64 mode as shown:</p>
<p><img src="./quick_start_install_vs2019_files/select_release_x64.PNG" alt="release-x64 mode"></p>
<p>Now, right click on the project, choose properties and the configuration popup should appear again.  Once it does,</p>
<ol>
<li>Set "Configurations" to "All Configurations"</li>
<li>Set "Platforms" to "x64".</li>
<li>Go to the Code Generation Tab under C/C++</li>
<li>Set "Enable Enhanced Instruction Set" to "Advanced Vector Extensions 2" (/arch:AVX2)</li>
<li>Click "Apply" button.</li>
<li>Click "Ok" Button.</li>
</ol>
<p><img src="./quick_start_install_vs2019_files/enable_avx2_x64.png" alt="Enable AVX2 in x64 for All Configurations"></p>
<p>Now, re-run the batch build (either for everything or at least x64-Release).  After it builds, press Ctrl-F5 to run (make sure Visual Studio is in Release-x64 mode).  You're output should now be something like this:</p>
<blockquote>
<p>Hello, uint128_t!<br>
lhs [123456789012345678901234] * rhs [432109876543210987654321] == [226810394222294446283585782734362836562].<br>
Using msvc x64 intrinsics?: [true]<br>
Using built-in uint128 for runtime calculations?: [false].<br>
Has adx enabled: [true].<br>
Has bmi2 enabled: [true].<br>
Goodbye!</p>
</blockquote>
<p>Note that adx and bmi2 are now set to "true".</p>
<h2 id="manual-installation">Manual Installation</h2>
<p>Manual installation consists of</p>
<ol>
<li>Downloading the repository from github,</li>
<li>copying the contents of the src folder from the repository to a known location,</li>
<li>copying all needed copyright and legal notices to a location so you can include them with any code you distribute, then</li>
<li>setting up Visual Studio to recognize the folder you set up as being a system library include folder.</li>
</ol>
<h3 id="download-the-repository-from-github-then-install-manually">Download the repository from github then install manually</h3>
<p>Go to the repo's releases page <a href="https://github.com/cpsusie/cjm-numerics/releases">here</a>.  Choose the most recent release and download the zip file as shown:</p>
<p><img src="./quick_start_install_vs2019_files/releases_download_src.PNG" alt="Download Source Code Zipfile"></p>
<p>Create a folder for storing the include files and one for storing the legal notices files required when redistributing this library.  For example, I created a folder called "E:\cpp_header_only_libraries".  Within that folder are two subfolders: include, where header-only libraries will be stored and cjm-numerics-uint128-notices for legal notices related to this library.  To illustrate:</p>
<p><img src="./quick_start_install_vs2019_files/man_install_folder_structure.png" alt="Manual Install Target Folder Structure"></p>
<p>Now you are ready to do the actual copying.  Copy the txt and md files from the repo archive into your target folder as shown:</p>
<p><img src="./quick_start_install_vs2019_files/copy_legal_notices.PNG" alt="Copying legal notices."></p>
<p>Now, copy the contents of /src/include (the cjm folder and all its contents, recursively) to the include folder as shown:</p>
<p><img src="./quick_start_install_vs2019_files/copy_contents_to_include_folder.png" alt="Copy include contents"></p>
<h3 id="create-a-console-application-to-test-installation-1">Create a Console Application To Test Installation</h3>
<p>Open up Visual Studio and choose "Create a New Project".  Choose an <strong>Empty</strong> <em>C++</em> <strong>Console</strong> project for <em>Windows</em>, then choose an appropriate name and location for the project.  When satisfied, choose "Create".  The following shows how to do this graphically:</p>
<p><img src="./quick_start_install_vs2019_files/create_new_project.PNG" alt="Create Empty Windows Console Application"></p>
<h3 id="add-source-file-to-test-application-1">Add Source File to Test Application</h3>
<p>Right click on Source Files and then left click on Add in the context menu.  Choose a "New Item" in the secondary context menu.  Then, in the popup window, choose a C++ file (.cpp), enter then name program.cpp for it, then press add.  Consult the following if you need help:</p>
<p><img src="./quick_start_install_vs2019_files/add_source_file.png" alt="Add program.cpp source file to project."></p>
<h3 id="copy-code-into-programcpp-1">Copy Code into "program.cpp"</h3>
<p>Copy the following code into program.cpp:</p>
<pre><code class="language-cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iomanip&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cjm/numerics/uint128.hpp&gt;</span></span>

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>  <span class="hljs-comment">// NOLINT(bugprone-exception-escape) (it's a demo)</span>
</span>{
	<span class="hljs-keyword">using</span> <span class="hljs-keyword">uint128_t</span> = cjm::numerics::uint128;
	<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cjm::numerics::uint128_literals;
	<span class="hljs-keyword">constexpr</span> <span class="hljs-keyword">auto</span> newl = <span class="hljs-string">'\n'</span>;
	<span class="hljs-keyword">constexpr</span> <span class="hljs-keyword">uint128_t</span> lhs = <span class="hljs-number">123'456'789'012'345'678'901'234</span>_u128;
	<span class="hljs-keyword">constexpr</span> <span class="hljs-keyword">uint128_t</span> rhs = <span class="hljs-number">432'109'876'543'210'987'654'321</span>_u128;
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Hello, uint128_t!"</span> &lt;&lt; newl;
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"lhs ["</span> &lt;&lt; lhs &lt;&lt; <span class="hljs-string">"] * rhs ["</span> &lt;&lt; rhs &lt;&lt; <span class="hljs-string">"] == ["</span> &lt;&lt; (lhs * rhs) &lt;&lt; <span class="hljs-string">"]."</span> &lt;&lt; newl;

	<span class="hljs-comment">//check if compiler intrinsics used:</span>
	<span class="hljs-comment">//should be available if using microsoft compiler targeting x64 Intel or AMD processor</span>
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>
		&lt;&lt; <span class="hljs-string">"Using msvc x64 intrinsics?: ["</span> &lt;&lt; <span class="hljs-built_in">std</span>::boolalpha
		&lt;&lt; (cjm::numerics::calculation_mode == cjm::numerics::uint128_calc_mode::msvc_x64) &lt;&lt; <span class="hljs-string">"]"</span> &lt;&lt; newl;

	<span class="hljs-comment">//Check if using built-in unsigned int 128 for runtime math</span>
	<span class="hljs-comment">//This type is provided as a language extension by some compilers (NOT msvc)</span>
	<span class="hljs-comment">//it is usually only available for 64 bit targets on compilers that provide</span>
	<span class="hljs-comment">//this extension</span>
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>
		&lt;&lt; <span class="hljs-string">"Using built-in uint128 for runtime calculations?: ["</span> &lt;&lt; <span class="hljs-built_in">std</span>::boolalpha
		&lt;&lt; (cjm::numerics::calculation_mode == cjm::numerics::uint128_calc_mode::intrinsic_u128)
		&lt;&lt; <span class="hljs-string">"]."</span> &lt;&lt; newl;
	
	<span class="hljs-comment">//On msvc when targeting x64, enabling AVX2 extension will allow us to use compiler intrinsics</span>
	<span class="hljs-comment">//supplied by ADX and BMI2 (for add-with-carry and extended precision multiplication)</span>
	<span class="hljs-comment">//rather than the default compiler intrinsics for those operations.  Make sure your processor</span>
	<span class="hljs-comment">//target supports those extensions before trying this.</span>
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>
		&lt;&lt; <span class="hljs-string">"Has adx enabled: ["</span> &lt;&lt; <span class="hljs-built_in">std</span>::boolalpha &lt;&lt; cjm::numerics::intel_adx_available &lt;&lt; <span class="hljs-string">"]."</span> &lt;&lt; newl;
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>
		&lt;&lt; <span class="hljs-string">"Has bmi2 enabled: ["</span> &lt;&lt; <span class="hljs-built_in">std</span>::boolalpha &lt;&lt; cjm::numerics::intel_bmi2_available &lt;&lt; <span class="hljs-string">"]."</span> &lt;&lt; newl;
	<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>
		&lt;&lt; <span class="hljs-string">"Goodbye!"</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>The code above is also available in the repository <a href="https://raw.githubusercontent.com/cpsusie/cjm-numerics/main/pre_release_quick_start/pre_release_quick_start/pre_release_quick_start.cpp">here.</a>  After pasting the code, click Build on the menu-bar, choose "Batch Build", select all four configurations in the Batch Build Window, then press the "Build" button.  Consult the following if you need help:</p>
<p><img src="./quick_start_install_vs2019_files/batch_build_after_paste.png" alt="Execute Batch Build (Doomed to Fail)"></p>
<p>If the squiggly red lines were not a sufficent hint, this build is doomed to fail.  There are two reasons why it cannot build:</p>
<ol>
<li>Visual Studio doesn't know about your new header-only library include folder yet and</li>
<li>Visual Studio 2019 configures new projects to use <code>C++14</code> by default, but this library requires <code>C++20</code>.</li>
</ol>
<p>If you scroll through the error messages in the compilation results you should encounter (probably in more than one place) messages similar to the following text:</p>
<blockquote>
<p>program.cpp<br>
C:\Users\Christopher Susie\Scratch\numerics_install\numerics_install\program.cpp(3,10): fatal error C1083: Cannot open include file: 'cjm/numerics/uint128.hpp': No such file or directory<br>
The command exited with code 2.<br>
Done executing task "CL" -- FAILED.<br>
Done building target "ClCompile" in project "numerics_install.vcxproj" -- FAILED.</p>
</blockquote>
<p>Let's fix the include folder issue first.  Follow the instructions and refer to the illustration below:</p>
<ol>
<li>Right-click on the project name</li>
<li>In the context menu, choose properties (at bottom)</li>
<li>In the Popup Window, select "VC++ Directories" under "Configuration Properties"</li>
<li>Set "Configurations" to "All Configurations"</li>
<li>Set "Platforms" to "All Platforms"</li>
<li>Select "Include Directories"</li>
<li>Click Edit</li>
<li>On the second popup window, press the "New Folder" button, then double click on the elipsis to show a "Select Folder Dialog"</li>
<li>Use the "Select Folder Dialog" to navigate to the include folder where you copied the cjm folder from the repository archive.  Once that folder ("include" ... <strong>not</strong> "include/cjm") is chosen</li>
<li>Click the "Select Folder" button</li>
<li>Then click the "Ok" buttons on the "Include Directories" dialog then, back on the initial pop-up,</li>
<li>Click the "Apply" button.  Finally,</li>
<li>Click the "Ok" button.</li>
</ol>
<p><img src="./quick_start_install_vs2019_files/configure_include_folder.png" alt="Configure Manual Include Folder"></p>
<p>At this point, all that remains between you and building the application is enabling <code>C++20</code>.  This is identical to the situation that a person following the vcpkg route would find herself in after entering the code.  Thus, continue with the instructions <a href="file:///E:/Source/Repos/cjm-numerics/docs/quick_start_visual_studio/#configure-project-for-c20">above.</a></p>

    <!-- End Markdown Monster Content -->
</div>


</body></html>